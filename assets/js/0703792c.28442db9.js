"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[4586],{3452(e,n,r){r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>u,frontMatter:()=>l,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"design pattern/2026-01-01-Chain of Responsibility","title":"\u8d23\u4efb\u94fe\u6a21\u5f0f","description":"\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f","source":"@site/javadoc/design pattern/2026-01-01-Chain of Responsibility.md","sourceDirName":"design pattern","slug":"/design pattern/design patterns-Chain of Responsibility","permalink":"/docs/javadoc/design pattern/design patterns-Chain of Responsibility","draft":false,"unlisted":false,"editUrl":"https://github.com/LiangHChao/docs/edit/master/javadoc/design pattern/2026-01-01-Chain of Responsibility.md","tags":[{"inline":true,"label":"design patterns","permalink":"/docs/javadoc/tags/design-patterns"}],"version":"current","frontMatter":{"slug":"design patterns-Chain of Responsibility","title":"\u8d23\u4efb\u94fe\u6a21\u5f0f","authors":["lianghchao"],"tags":["design patterns"]},"sidebar":"javaSidebar","previous":{"title":"\u8bbe\u8ba1\u6a21\u5f0f","permalink":"/docs/javadoc/category/\u8bbe\u8ba1\u6a21\u5f0f"},"next":{"title":"spring boot\u4e2d\u5e38\u89c1\u7684\u8bbe\u8ba1\u6a21\u5f0f","permalink":"/docs/javadoc/design pattern/java-spring-boot-design-patterns"}}');var d=r(4848),a=r(8453);const l={slug:"design patterns-Chain of Responsibility",title:"\u8d23\u4efb\u94fe\u6a21\u5f0f",authors:["lianghchao"],tags:["design patterns"]},s=void 0,i={},o=[{value:"\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f",id:"\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f",level:2},{value:"\u5047\u8bbe\u8ba2\u5355\u6709\u4ee5\u4e0b\u72b6\u6001\u6d41\u8f6c\u89c4\u5219\uff1a",id:"\u5047\u8bbe\u8ba2\u5355\u6709\u4ee5\u4e0b\u72b6\u6001\u6d41\u8f6c\u89c4\u5219",level:4},{value:"\u6211\u4eec\u7528\u8d23\u4efb\u94fe\u6765\u6821\u9a8c\u548c\u6267\u884c\u72b6\u6001\u53d8\u66f4\u3002",id:"\u6211\u4eec\u7528\u8d23\u4efb\u94fe\u6765\u6821\u9a8c\u548c\u6267\u884c\u72b6\u6001\u53d8\u66f4",level:4},{value:"\ud83e\uddf1 1. \u5b9a\u4e49\u8ba2\u5355\u5b9e\u4f53",id:"-1-\u5b9a\u4e49\u8ba2\u5355\u5b9e\u4f53",level:3},{value:"\ud83d\udd17 2. \u5b9a\u4e49\u62bd\u8c61\u5904\u7406\u5668\uff08Handler\uff09",id:"-2-\u5b9a\u4e49\u62bd\u8c61\u5904\u7406\u5668handler",level:3},{value:"\ud83d\udee0\ufe0f3. \u5b9e\u73b0\u5177\u4f53\u5904\u7406\u5668",id:"\ufe0f3-\u5b9e\u73b0\u5177\u4f53\u5904\u7406\u5668",level:3},{value:"\u62bd\u8c61\u5904\u7406\u5668",id:"\u62bd\u8c61\u5904\u7406\u5668",level:4},{value:"\u652f\u4ed8\u5904\u7406\u5668",id:"\u652f\u4ed8\u5904\u7406\u5668",level:4},{value:"\u53d1\u8d27\u5904\u7406\u5668",id:"\u53d1\u8d27\u5904\u7406\u5668",level:4},{value:"\u786e\u8ba4\u6536\u8d27\u5904\u7406\u5668",id:"\u786e\u8ba4\u6536\u8d27\u5904\u7406\u5668",level:4},{value:"\u53d6\u6d88\u8ba2\u5355\u5904\u7406\u5668\uff08\u901a\u7528\uff09",id:"\u53d6\u6d88\u8ba2\u5355\u5904\u7406\u5668\u901a\u7528",level:4},{value:"\ud83e\uddea 4. \u6784\u5efa\u8d23\u4efb\u94fe\u5e76\u6d4b\u8bd5",id:"-4-\u6784\u5efa\u8d23\u4efb\u94fe\u5e76\u6d4b\u8bd5",level:3}];function c(e){const n={code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.h2,{id:"\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f",children:"\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u8d23\u4efb\u94fe\u6a21\u5f0f"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u4e0b\u9762\u662f\u4e00\u4e2a \u4f7f\u7528 Java \u624b\u5199\u8d23\u4efb\u94fe\u6a21\u5f0f\uff08Chain of Responsibility\uff09\u5b9e\u73b0\u8ba2\u5355\u72b6\u6001\u7ba1\u7406 \u7684\u5b8c\u6574\u793a\u4f8b\u3002\u8be5\u8bbe\u8ba1\u5141\u8bb8\u4f60\u901a\u8fc7\u4e00\u7cfb\u5217\u5904\u7406\u5668\uff08Handler\uff09\u4f9d\u6b21\u5904\u7406\u8ba2\u5355\u72b6\u6001\u53d8\u66f4\u8bf7\u6c42\uff0c\u6bcf\u4e2a\u5904\u7406\u5668\u51b3\u5b9a\u662f\u5426\u5904\u7406\u3001\u5982\u4f55\u5904\u7406\uff0c\u4ee5\u53ca\u662f\u5426\u5c06\u8bf7\u6c42\u4f20\u9012\u7ed9\u4e0b\u4e00\u4e2a\u5904\u7406\u5668\u3002"}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u5047\u8bbe\u8ba2\u5355\u6709\u4ee5\u4e0b\u72b6\u6001\u6d41\u8f6c\u89c4\u5219",children:"\u5047\u8bbe\u8ba2\u5355\u6709\u4ee5\u4e0b\u72b6\u6001\u6d41\u8f6c\u89c4\u5219\uff1a"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"CREATED \u2192 \u53ef\u652f\u4ed8 \u2192 PAID"}),"\n",(0,d.jsx)(n.li,{children:"PAID \u2192 \u53ef\u53d1\u8d27 \u2192 SHIPPED"}),"\n",(0,d.jsx)(n.li,{children:"SHIPPED \u2192 \u53ef\u786e\u8ba4\u6536\u8d27 \u2192 COMPLETED"}),"\n",(0,d.jsx)(n.li,{children:"\u4efb\u610f\u72b6\u6001\u53ef\u53d6\u6d88\uff08\u4f46\u5df2\u5b8c\u6210\u7684\u4e0d\u80fd\u53d6\u6d88\uff09"}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u6211\u4eec\u7528\u8d23\u4efb\u94fe\u6765\u6821\u9a8c\u548c\u6267\u884c\u72b6\u6001\u53d8\u66f4",children:"\u6211\u4eec\u7528\u8d23\u4efb\u94fe\u6765\u6821\u9a8c\u548c\u6267\u884c\u72b6\u6001\u53d8\u66f4\u3002"}),"\n",(0,d.jsx)(n.h3,{id:"-1-\u5b9a\u4e49\u8ba2\u5355\u5b9e\u4f53",children:"\ud83e\uddf1 1. \u5b9a\u4e49\u8ba2\u5355\u5b9e\u4f53"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'// Order.java\npublic class Order {\n    private String orderId;\n    private OrderStatus status;\n    private String action; // \u5f53\u524d\u8bf7\u6c42\u7684\u64cd\u4f5c\uff0c\u5982 "pay", "ship", "confirm", "cancel"\n\n    public Order(String orderId, OrderStatus status) {\n        this.orderId = orderId;\n        this.status = status;\n    }\n\n    // Getters and Setters\n    public String getOrderId() { return orderId; }\n    public OrderStatus getStatus() { return status; }\n    public void setStatus(OrderStatus status) { this.status = status; }\n    public String getAction() { return action; }\n    public void setAction(String action) { this.action = action; }\n\n    @Override\n    public String toString() {\n        return "Order{" +\n                "orderId=\'" + orderId + \'\\\'\' +\n                ", status=" + status +\n                ", action=\'" + action + \'\\\'\' +\n                \'}\';\n    }\n}\n\n'})}),"\n",(0,d.jsx)(n.h3,{id:"-2-\u5b9a\u4e49\u62bd\u8c61\u5904\u7406\u5668handler",children:"\ud83d\udd17 2. \u5b9a\u4e49\u62bd\u8c61\u5904\u7406\u5668\uff08Handler\uff09"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:"// OrderStatus.java\npublic enum OrderStatus {\n    CREATED,      // \u5df2\u521b\u5efa\n    PAID,         // \u5df2\u652f\u4ed8\n    SHIPPED,      // \u5df2\u53d1\u8d27\n    COMPLETED,    // \u5df2\u5b8c\u6210\n    CANCELLED     // \u5df2\u53d6\u6d88\n}\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\ufe0f3-\u5b9e\u73b0\u5177\u4f53\u5904\u7406\u5668",children:"\ud83d\udee0\ufe0f3. \u5b9e\u73b0\u5177\u4f53\u5904\u7406\u5668"}),"\n",(0,d.jsx)(n.h4,{id:"\u62bd\u8c61\u5904\u7406\u5668",children:"\u62bd\u8c61\u5904\u7406\u5668"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'// OrderHandler.java\npublic abstract class OrderHandler {\n    protected OrderHandler nextHandler;\n\n    public void setNext(OrderHandler next) {\n        this.nextHandler = next;\n    }\n\n    // \u5904\u7406\u8ba2\u5355\u72b6\u6001\u53d8\u66f4\n    public final void handle(Order order) {\n        if (canHandle(order)) {\n            doHandle(order);\n        } else if (nextHandler != null) {\n            nextHandler.handle(order);\n        } else {\n            throw new IllegalStateException("\u65e0\u6cd5\u5904\u7406\u64cd\u4f5c: " + order.getAction() + "\uff0c\u5f53\u524d\u72b6\u6001: " + order.getStatus());\n        }\n    }\n\n    // \u5b50\u7c7b\u5b9e\u73b0\uff1a\u662f\u5426\u80fd\u5904\u7406\u5f53\u524d\u8bf7\u6c42\n    protected abstract boolean canHandle(Order order);\n\n    // \u5b50\u7c7b\u5b9e\u73b0\uff1a\u5177\u4f53\u5904\u7406\u903b\u8f91\n    protected abstract void doHandle(Order order);\n}\n'})}),"\n",(0,d.jsx)(n.h4,{id:"\u652f\u4ed8\u5904\u7406\u5668",children:"\u652f\u4ed8\u5904\u7406\u5668"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'// PayHandler.java\npublic class PayHandler extends OrderHandler {\n    @Override\n    protected boolean canHandle(Order order) {\n        return "pay".equals(order.getAction()) && OrderStatus.CREATED == order.getStatus();\n    }\n\n    @Override\n    protected void doHandle(Order order) {\n        System.out.println("\u2705 \u8ba2\u5355 " + order.getOrderId() + " \u652f\u4ed8\u6210\u529f");\n        order.setStatus(OrderStatus.PAID);\n    }\n}\n'})}),"\n",(0,d.jsx)(n.h4,{id:"\u53d1\u8d27\u5904\u7406\u5668",children:"\u53d1\u8d27\u5904\u7406\u5668"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'// ShipHandler.java\npublic class ShipHandler extends OrderHandler {\n    @Override\n    protected boolean canHandle(Order order) {\n        return "ship".equals(order.getAction()) && OrderStatus.PAID == order.getStatus();\n    }\n\n    @Override\n    protected void doHandle(Order order) {\n        System.out.println("\ud83d\ude9a \u8ba2\u5355 " + order.getOrderId() + " \u5df2\u53d1\u8d27");\n        order.setStatus(OrderStatus.SHIPPED);\n    }\n}\n'})}),"\n",(0,d.jsx)(n.h4,{id:"\u786e\u8ba4\u6536\u8d27\u5904\u7406\u5668",children:"\u786e\u8ba4\u6536\u8d27\u5904\u7406\u5668"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'// ConfirmHandler.java\npublic class ConfirmHandler extends OrderHandler {\n    @Override\n    protected boolean canHandle(Order order) {\n        return "confirm".equals(order.getAction()) && OrderStatus.SHIPPED == order.getStatus();\n    }\n\n    @Override\n    protected void doHandle(Order order) {\n        System.out.println("\ud83d\udce6 \u8ba2\u5355 " + order.getOrderId() + " \u5df2\u786e\u8ba4\u6536\u8d27");\n        order.setStatus(OrderStatus.COMPLETED);\n    }\n}\n'})}),"\n",(0,d.jsx)(n.h4,{id:"\u53d6\u6d88\u8ba2\u5355\u5904\u7406\u5668\u901a\u7528",children:"\u53d6\u6d88\u8ba2\u5355\u5904\u7406\u5668\uff08\u901a\u7528\uff09"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'// CancelHandler.java\npublic class CancelHandler extends OrderHandler {\n    @Override\n    protected boolean canHandle(Order order) {\n        return "cancel".equals(order.getAction()) &&\n               order.getStatus() != OrderStatus.COMPLETED &&\n               order.getStatus() != OrderStatus.CANCELLED;\n    }\n\n    @Override\n    protected void doHandle(Order order) {\n        System.out.println("\u274c \u8ba2\u5355 " + order.getOrderId() + " \u5df2\u53d6\u6d88");\n        order.setStatus(OrderStatus.CANCELLED);\n    }\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"-4-\u6784\u5efa\u8d23\u4efb\u94fe\u5e76\u6d4b\u8bd5",children:"\ud83e\uddea 4. \u6784\u5efa\u8d23\u4efb\u94fe\u5e76\u6d4b\u8bd5"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'// OrderChainDemo.java\npublic class OrderChainDemo {\n    public static void main(String[] args) {\n        // \u6784\u5efa\u8d23\u4efb\u94fe\n        OrderHandler payHandler = new PayHandler();\n        OrderHandler shipHandler = new ShipHandler();\n        OrderHandler confirmHandler = new ConfirmHandler();\n        OrderHandler cancelHandler = new CancelHandler();\n\n        payHandler.setNext(shipHandler);\n        shipHandler.setNext(confirmHandler);\n        confirmHandler.setNext(cancelHandler);\n        // cancelHandler \u662f\u6700\u540e\u4e00\u4e2a\uff0c\u65e0\u9700\u8bbe\u7f6e next\n\n        // \u6d4b\u8bd5\u8ba2\u5355\u6d41\u7a0b\n        Order order = new Order("ORD1001", OrderStatus.CREATED);\n\n        // \u6b63\u5e38\u6d41\u7a0b\uff1a\u652f\u4ed8 \u2192 \u53d1\u8d27 \u2192 \u786e\u8ba4\n        order.setAction("pay");\n        payHandler.handle(order);\n        System.out.println(order);\n\n        order.setAction("ship");\n        payHandler.handle(order); // \u4ece\u94fe\u5934\u5f00\u59cb\n        System.out.println(order);\n\n        order.setAction("confirm");\n        payHandler.handle(order);\n        System.out.println(order);\n\n        // \u5c1d\u8bd5\u53d6\u6d88\u5df2\u5b8c\u6210\u8ba2\u5355\uff08\u5e94\u5931\u8d25\uff09\n        order.setAction("cancel");\n        try {\n            payHandler.handle(order);\n        } catch (IllegalStateException e) {\n            System.out.println("\ud83d\udeab " + e.getMessage());\n        }\n\n        // \u65b0\u8ba2\u5355\u76f4\u63a5\u53d6\u6d88\n        Order order2 = new Order("ORD1002", OrderStatus.CREATED);\n        order2.setAction("cancel");\n        payHandler.handle(order2);\n        System.out.println(order2);\n    }\n}\n'})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java"})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}},8453(e,n,r){r.d(n,{R:()=>l,x:()=>s});var t=r(6540);const d={},a=t.createContext(d);function l(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);