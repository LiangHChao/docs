"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[704],{4717(n,e,t){t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"annotation/2026-01-02-annotation","title":"sping boot \u6ce8\u89e3","description":"\u6ce8\u89e3 \u6ce8\u89e3\u672c\u8eab\u53ea\u662f\u201c\u6807\u8bb0\u201d","source":"@site/javadoc/annotation/2026-01-02-annotation.md","sourceDirName":"annotation","slug":"/annotation/java-annotation","permalink":"/docs/javadoc/annotation/java-annotation","draft":false,"unlisted":false,"editUrl":"https://github.com/LiangHChao/docs/edit/master/javadoc/annotation/2026-01-02-annotation.md","tags":[{"inline":true,"label":"annotation","permalink":"/docs/javadoc/tags/annotation"}],"version":"current","frontMatter":{"slug":"java-annotation","title":"sping boot \u6ce8\u89e3","authors":["lianghchao"],"tags":["annotation"]},"sidebar":"javaSidebar","previous":{"title":"\u6ce8\u89e3","permalink":"/docs/javadoc/category/\u6ce8\u89e3"},"next":{"title":"spring \u96c6\u6210\u6d4b\u8bd5","permalink":"/docs/javadoc/category/spring-\u96c6\u6210\u6d4b\u8bd5"}}');var o=t(4848),i=t(8453);const s={slug:"java-annotation",title:"sping boot \u6ce8\u89e3",authors:["lianghchao"],tags:["annotation"]},r=void 0,l={},c=[{value:"\u6ce8\u89e3 \u6ce8\u89e3\u672c\u8eab\u53ea\u662f\u201c\u6807\u8bb0\u201d",id:"\u6ce8\u89e3-\u6ce8\u89e3\u672c\u8eab\u53ea\u662f\u6807\u8bb0",level:2},{value:"\u6761\u4ef6\u5316\u914d\u7f6e\u6ce8\u89e3\uff08\u9ad8\u7ea7\uff09",id:"\u6761\u4ef6\u5316\u914d\u7f6e\u6ce8\u89e3\u9ad8\u7ea7",level:3},{value:"Spring Boot \u4e2d\u6ce8\u89e3\uff08\u5982 @Transactional\u3001@Autowired\u3001@Cacheable \u7b49\uff09\u4e4b\u6240\u4ee5\u80fd\u201c\u81ea\u52a8\u751f\u6548\u201d\uff0c\u80cc\u540e\u4f9d\u8d56\u591a\u79cd\u5e95\u5c42\u673a\u5236\u534f\u540c\u5de5\u4f5c\uff0c\u4e3b\u8981\u5305\u62ec\uff1a",id:"spring-boot-\u4e2d\u6ce8\u89e3\u5982-transactionalautowiredcacheable-\u7b49\u4e4b\u6240\u4ee5\u80fd\u81ea\u52a8\u751f\u6548\u80cc\u540e\u4f9d\u8d56\u591a\u79cd\u5e95\u5c42\u673a\u5236\u534f\u540c\u5de5\u4f5c\u4e3b\u8981\u5305\u62ec",level:4},{value:"BeanPostProcessor \u2014\u2014 \u5728 Bean \u521d\u59cb\u5316\u65f6\u5904\u7406\u6ce8\u89e3",id:"beanpostprocessor--\u5728-bean-\u521d\u59cb\u5316\u65f6\u5904\u7406\u6ce8\u89e3",level:3}];function d(n){const e={code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h2,{id:"\u6ce8\u89e3-\u6ce8\u89e3\u672c\u8eab\u53ea\u662f\u6807\u8bb0",children:"\u6ce8\u89e3 \u6ce8\u89e3\u672c\u8eab\u53ea\u662f\u201c\u6807\u8bb0\u201d"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"\u6ce8\u89e3\uff08Annotation\uff09\u662f Java 5.0 \u5f15\u5165\u7684\uff0c\u7528\u4e8e\u7ed9 Java \u6e90\u4ee3\u7801\u6dfb\u52a0\u5143\u4fe1\u606f\u3002"}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"\u6761\u4ef6\u5316\u914d\u7f6e\u6ce8\u89e3\u9ad8\u7ea7",children:"\u6761\u4ef6\u5316\u914d\u7f6e\u6ce8\u89e3\uff08\u9ad8\u7ea7\uff09"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"\u7528\u4e8e\u6309\u6761\u4ef6\u521b\u5efa Bean\uff0c\u5b9e\u73b0\u7075\u6d3b\u914d\u7f6e\uff1a"}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-java",children:'@Configuration\npublic class ConditionalConfig {\n    \n    @Bean\n    @ConditionalOnProperty(name = "cache.enabled", havingValue = "true")\n    public CacheManager redisCacheManager() {\n        return new RedisCacheManager();\n    }\n    \n    @Bean\n    @ConditionalOnMissingBean(CacheManager.class) // \u5982\u679c\u5bb9\u5668\u4e2d\u6ca1\u6709 CacheManager \u624d\u521b\u5efa\n    public CacheManager defaultCacheManager() {\n        return new SimpleCacheManager();\n    }\n}\n'})}),"\n",(0,o.jsx)(e.p,{children:"\u5e38\u7528\u6761\u4ef6\u6ce8\u89e3\uff1a"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"@ConditionalOnClass\uff1a\u7c7b\u8def\u5f84\u5b58\u5728\u67d0\u7c7b"}),"\n",(0,o.jsx)(e.li,{children:"@ConditionalOnMissingBean\uff1a\u5bb9\u5668\u4e2d\u7f3a\u5c11\u67d0 Bean"}),"\n",(0,o.jsx)(e.li,{children:"@ConditionalOnProperty\uff1a\u914d\u7f6e\u5c5e\u6027\u6ee1\u8db3\u6761\u4ef6"}),"\n",(0,o.jsx)(e.li,{children:'@Profile("dev")\uff1a\u4ec5\u5728 dev \u73af\u5883\u751f\u6548'}),"\n"]}),"\n",(0,o.jsx)(e.h4,{id:"spring-boot-\u4e2d\u6ce8\u89e3\u5982-transactionalautowiredcacheable-\u7b49\u4e4b\u6240\u4ee5\u80fd\u81ea\u52a8\u751f\u6548\u80cc\u540e\u4f9d\u8d56\u591a\u79cd\u5e95\u5c42\u673a\u5236\u534f\u540c\u5de5\u4f5c\u4e3b\u8981\u5305\u62ec",children:"Spring Boot \u4e2d\u6ce8\u89e3\uff08\u5982 @Transactional\u3001@Autowired\u3001@Cacheable \u7b49\uff09\u4e4b\u6240\u4ee5\u80fd\u201c\u81ea\u52a8\u751f\u6548\u201d\uff0c\u80cc\u540e\u4f9d\u8d56\u591a\u79cd\u5e95\u5c42\u673a\u5236\u534f\u540c\u5de5\u4f5c\uff0c\u4e3b\u8981\u5305\u62ec\uff1a"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsx)(e.li,{children:"\u53cd\u5c04\uff08Reflection\uff09"}),"\n",(0,o.jsx)(e.li,{children:"\u4ee3\u7406\u6a21\u5f0f\uff08Proxy Pattern\uff09 \u2192 JDK \u52a8\u6001\u4ee3\u7406 / CGLIB"}),"\n",(0,o.jsx)(e.li,{children:"AOP\uff08\u9762\u5411\u5207\u9762\u7f16\u7a0b\uff09"}),"\n",(0,o.jsx)(e.li,{children:"Bean \u751f\u547d\u5468\u671f\u56de\u8c03\uff08PostProcessor\uff09"}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"beanpostprocessor--\u5728-bean-\u521d\u59cb\u5316\u65f6\u5904\u7406\u6ce8\u89e3",children:"BeanPostProcessor \u2014\u2014 \u5728 Bean \u521d\u59cb\u5316\u65f6\u5904\u7406\u6ce8\u89e3"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Spring \u5728\u521b\u5efa Bean \u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u8c03\u7528\u4e00\u7cfb\u5217 BeanPostProcessor \u6765\u5904\u7406\u6ce8\u89e3\uff1a"}),"\n"]}),"\n",(0,o.jsxs)(e.table,{children:[(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"PostProcessor"}),(0,o.jsx)(e.th,{children:"\u5904\u7406\u7684\u6ce8\u89e3"}),(0,o.jsx)(e.th,{children:"\u529f\u80fd"})]})}),(0,o.jsxs)(e.tbody,{children:[(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"AutowiredAnnotationBeanPostProcessor"}),(0,o.jsx)(e.td,{children:"@Autowired, @Value"}),(0,o.jsx)(e.td,{children:"\u4f9d\u8d56\u6ce8\u5165"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"CommonAnnotationBeanPostProcessor"}),(0,o.jsx)(e.td,{children:"@Resource, @PostConstruct"}),(0,o.jsx)(e.td,{children:"JSR-250 \u652f\u6301"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"PersistenceAnnotationBeanPostProcessor"}),(0,o.jsx)(e.td,{children:"@PersistenceContext"}),(0,o.jsx)(e.td,{children:"JPA \u652f\u6301"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"AsyncAnnotationBeanPostProcessor"}),(0,o.jsx)(e.td,{children:"@Async"}),(0,o.jsx)(e.td,{children:"\u5f02\u6b65\u4ee3\u7406"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"InfrastructureAdvisorAutoProxyCreator"}),(0,o.jsx)(e.td,{children:"@Transactional, @Cacheable"}),(0,o.jsx)(e.td,{children:"\u521b\u5efa AOP \u4ee3\u7406"})]})]})]})]})}function h(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},8453(n,e,t){t.d(e,{R:()=>s,x:()=>r});var a=t(6540);const o={},i=a.createContext(o);function s(n){const e=a.useContext(i);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:s(n.components),a.createElement(i.Provider,{value:e},n.children)}}}]);