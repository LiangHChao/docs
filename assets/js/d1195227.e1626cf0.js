"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[8100],{8453(e,n,t){t.d(n,{R:()=>r,x:()=>c});var s=t(6540);const a={},i=s.createContext(a);function r(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:n},e.children)}},9235(e,n,t){t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"tencent/2026-01-04-tencent sms","title":"\u817e\u8baf\u77ed\u4fe1","description":"\u817e\u8baf\u77ed\u4fe1","source":"@site/javadoc/tencent/2026-01-04-tencent sms.md","sourceDirName":"tencent","slug":"/tencent/java-tencent-sms","permalink":"/docs/javadoc/tencent/java-tencent-sms","draft":false,"unlisted":false,"editUrl":"https://github.com/LiangHChao/docs/edit/master/javadoc/tencent/2026-01-04-tencent sms.md","tags":[{"inline":true,"label":"java","permalink":"/docs/javadoc/tags/java"},{"inline":true,"label":"sms","permalink":"/docs/javadoc/tags/sms"},{"inline":true,"label":"tencent","permalink":"/docs/javadoc/tags/tencent"}],"version":"current","frontMatter":{"slug":"java-tencent-sms","title":"\u817e\u8baf\u77ed\u4fe1","authors":["lianghchao"],"tags":["java","sms","tencent"]},"sidebar":"javaSidebar","previous":{"title":"\u817e\u8baf\u76f8\u5173\u63a5\u53e3","permalink":"/docs/javadoc/category/\u817e\u8baf\u76f8\u5173\u63a5\u53e3"},"next":{"title":"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u767b\u5f55","permalink":"/docs/javadoc/tencent/java-tencent-weapp-login"}}');var a=t(4848),i=t(8453);const r={slug:"java-tencent-sms",title:"\u817e\u8baf\u77ed\u4fe1",authors:["lianghchao"],tags:["java","sms","tencent"]},c=void 0,o={},l=[{value:"\u817e\u8baf\u77ed\u4fe1",id:"\u817e\u8baf\u77ed\u4fe1",level:2}];function d(e){const n={code:"code",h2:"h2",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"\u817e\u8baf\u77ed\u4fe1",children:"\u817e\u8baf\u77ed\u4fe1"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>com.tencentcloudapi</groupId>\n    <artifactId>tencentcloud-sdk-java-sms</artifactId>\n    <version>3.1.880</version> \x3c!-- \u67e5\u770b\u6700\u65b0\u7248 --\x3e\n</dependency>\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'\n@Slf4j\n@Component\npublic class TencentSmsUtil {\n\n    private final SMSConfig smsConfig;\n\n    public TencentSmsUtil(SMSConfig smsConfig) {\n        this.smsConfig = smsConfig;\n    }\n\n    @Data\n    @Component\n    @ConfigurationProperties(prefix = "tencent.sms")\n    public static class SMSConfig {\n        private String secretId;//\u8bbf\u95ee\u7ba1\u7406-\u5bc6\u94a5\u7ba1\u7406-API\u5bc6\u94a5-secretId\n        private String secretKey;//\u8bbf\u95ee\u7ba1\u7406-\u5bc6\u94a5\u7ba1\u7406-API\u5bc6\u94a5-secretKey\n        private String sdkAppId;//\u77ed\u4fe1-\u521b\u5efa\u5e94\u7528-sdkAppId\n        private String signName;//\u56fd\u5185\u77ed\u4fe1-\u7b7e\u540d\u7ba1\u7406-\u521b\u5efa\u7b7e\u540d-\u7b7e\u540d\u5185\u5bb9\n    }\n\n    /**\n     * \u53d1\u9001\u77ed\u4fe1\n     * @param phones \u53d1\u9001\u7ed9\u54ea\u4e9b\u624b\u673a\u53f7\n     * @param templateId \u6d88\u606f\u6a21\u677fID\n     * @param templateParamSet \u53c2\u6570Set\n     */\n    public void send(String[] phones, String templateId, String[] templateParamSet) {\n        Credential cred = new Credential(smsConfig.getSecretId(), smsConfig.getSecretKey());\n\n        HttpProfile httpProfile = new HttpProfile();\n        httpProfile.setEndpoint("sms.tencentcloudapi.com");\n        ClientProfile clientProfile = new ClientProfile();\n        clientProfile.setHttpProfile(httpProfile);\n        SmsClient client = new SmsClient(cred, "ap-guangzhou", clientProfile);\n\n        SendSmsRequest req = new SendSmsRequest();\n        req.setPhoneNumberSet(phones);\n        req.setSmsSdkAppId(smsConfig.getSdkAppId());\n        req.setSignName(smsConfig.getSignName());\n        req.setTemplateId(templateId);\n        req.setTemplateParamSet(templateParamSet);\n\n        try {\n            com.tencentcloudapi.sms.v20210111.models.SendSmsResponse resp = client.SendSms(req);\n            for (int i = 0; i < resp.getSendStatusSet().length; i++) {\n                if (!resp.getSendStatusSet()[i].getCode().equals("Ok") ||\n                        !resp.getSendStatusSet()[i].getFee().equals(1)) {\n                    log.warn("\u53d1\u9001\u5931\u8d25\uff1a{}", resp.getSendStatusSet()[i].getCode());\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n'})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);