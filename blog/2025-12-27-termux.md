---
slug: test
title: 旧手机搭服务器
authors: [lianghchao]
tags: [server]
---

Lorem ipsum dolor sit amet...

<!-- truncate -->

```bash
curl -X GET "https://dynupdate.no-ip.com/nic/update?hostname=yourhostname&myip=yourIp" -u "yourmail:yourpassword" -H "User-Agent: MyUpdater/1.0"
```

1. 返回信息good XXX

2. 传输文件到手机
```shell
scp -P 8022 dist.zip u0_a698@yourip:/sdcard/download/
```

```shell
前台运行caddy
caddy run --config ~/Caddyfile

查看caddy
ps aux | grep caddy
kill 32518

Redis 默认配置文件位于：
$PREFIX/etc/redis.conf
sed -i 's/# requirepass foobared/requirepass drlhc$PREFIX/etc/redis.conf

后台运行
tmux new-session -d -s caddy 'caddy run --config ~/Caddyfile'
tmux new-session -d -s ruoyi-admin 'java -jar ruoyi-admin.jar  --server.address=0.0.0.0'
tmux new-session -d -s redis 'redis-server $PREFIX/etc/redis.conf'
看日志
tmux capture-pane -t ruoyi-admin -pS -100
关闭程序
tmux kill-session -t caddy

解压到指定路径
tar -xzf frp_0.52.3_linux_arm64.tar.gz -C ~/program
创建文件夹
mkdir ~/program
```

# 创建目录（如果不存在）
```shell
mkdir -p $PREFIX/etc/apt
```

## 换源公钥不见了，以下是解决公钥丢失下载的安装文件
# 写入清华源
```shell
echo "deb https://mirrors.aliyun.com/termux/termux-main" > $PREFIX/etc/apt/sources.list
curl -O https://packages-cf.termux.dev/apt/termux-main/pool/main/libg/libgpg-error/libgpg-error_1.55-1_aarch64.deb
curl -O https://packages-cf.termux.dev/apt/termux-main/pool/main/libg/libgcrypt/libgcrypt_1.11.2-1_aarch64.deb
curl -O https://packages-cf.termux.dev/apt/termux-main/pool/main/p/pinentry/pinentry_1.3.2-1_aarch64.deb
curl -O https://packages-cf.termux.dev/apt/termux-main/pool/main/g/gnupg/gnupg_2.5.11_aarch64.deb
curl -O https://packages-cf.termux.dev/apt/termux-main/pool/main/liba/libandroid-support/libandroid-support_29-1_aarch64.deb
curl -O https://packages-cf.termux.dev/apt/termux-main/pool/main/libk/libksba/libksba_1.6.7-2_aarch64.deb
curl -O https://packages-cf.termux.dev/apt/termux-main/pool/main/t/termux-keyring/termux-keyring_3.13_all.deb
dpkg -i termux-keyring_3.13_all.deb
```
